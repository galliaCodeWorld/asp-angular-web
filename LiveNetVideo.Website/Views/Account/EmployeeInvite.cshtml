
@using LiveNetVideo.Website.Services;
@{
	ViewData["Title"] = "EmployeeInvite";
}
@model LiveNetVideo.Website.Models.EmployeeInviteViewModel



<div class="container">
	<div class="row">
		<div class="col-md-12">


			@if (Model.EmployeeInvite != null)
			{

				@if (Model.Member != null)
				{
					<h1>Invitation</h1>


					@if (ViewBag.ErrorMessages != null)
					{
						if (ViewBag.ErrorMessages.Count > 0)
						{

							foreach (string errorMessage in ViewBag.ErrorMessages)
							{
								UtilityHelper.DisplayAlert(errorMessage);
							}
						}
					}

					<p>
						Click the accept button to accept your invitation.
					</p>
					<p>
						<a href="@Model.AcceptLink" class="btn btn-primary btn-lg">Accept</a>
					</p>
						<hr />
				}
				else
				{
					<h1>Register to Accept Invitation</h1>

					@if (ViewBag.ErrorMessages != null)
					{
						if (ViewBag.ErrorMessages.Count > 0)
						{

							foreach (string errorMessage in ViewBag.ErrorMessages)
							{
								<p>@errorMessage</p>
								UtilityHelper.DisplayAlert(errorMessage);
							}
						}
					}

					<p>
						Please create a password, and click "Create Account" to create an account and accept your invitation.
					</p>

					<div class="register">
						@Html.PartialAsync("~/Views/Shared/_EmployeeInviteRegister.cshtml", Model.Registration)
						@*<h1 class="is-size-3 has-text-white">EmployeeInvite</h1>
							<form asp-controller="Account" asp-action="EmployeeInviteRegister" method="post">
								<input asp-for="@Model.Registration.CompanyEmployeeInviteId" type="hidden" value="@Model.Registration.CompanyEmployeeInviteId" />
								<div class="form-group">
									<label><strong>First Name: </strong></label>
									<code>
										@Model.Registration.FirstName
									</code>
									<input asp-for="@Model.Registration.FirstName" type="hidden" value="@Model.Registration.FirstName" />
								</div>

								<div class="form-group">
									<label><strong>Last Name: </strong></label>
									<code>
										@Model.Registration.LastName
									</code>
									<input asp-for="@Model.Registration.LastName" type="hidden" value="@Model.Registration.LastName" />
								</div>

								<div class="form-group">
									<label><strong>Email: </strong></label>
									<code>
										@Model.Registration.Email
									</code>
									<input asp-for="@Model.Registration.Email" type="hidden" value="@Model.Registration.Email" />
								</div>

								<div class="form-group">
									<label><strong>Password</strong></label>
									<input asp-for="@Model.Registration.Password" type="password" placeholder="Password" class="form-control" />
									<p class="help-block">Enter a password for your account.</p>
								</div>
								<button class="button is-light is-outlined is-pulled-right" type="submit">Create Account And Accept Invitation</button>
							</form>*@
					</div>
						<hr />
				}

				<p>
					<a href="@Model.DenyLink" class="btn btn-danger btn-lg">Deny</a>
				</p>

			}
			else
			{
				<div class="jumbotron">
					<h2>Error</h2>
					<p>Unable to find invitation</p>
				</div>

			}



		</div>
	</div>
</div>

@section Scripts {
	@{ await Html.RenderPartialAsync("_ValidationScriptsPartial"); }
}